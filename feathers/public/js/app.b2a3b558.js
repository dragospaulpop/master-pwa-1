(function(){var t={1672:function(t,e,o){"use strict";var n=o(144),i=o(998),a=o(6072),r=o(6190),s=o(9582),c=o(4886),l=o(266),d=o(2118),u=o(9930),f=o(4324),h=o(5808),p=o(4525),g=o(5187),m=o(3868),v=o(3059),y=o(4528),Z=o(1713),w=o(7423),k=o(3687),b=o(8088),_=function(){var t=this,e=t._self._c;return e(i.Z,[e(a.Z,{attrs:{color:"primary",dense:"",app:""}},[e(k.Z),t.authenticated?[t._v(" "+t._s(t.authenticated)+" ")]:[t._v(" pls log in ")],e(k.Z),e(r.Z,{attrs:{icon:""},on:{click:t.logOut}},[e(f.Z,[t._v("mdi-logout")])],1)],2),e(v.Z,[e(d.Z,{attrs:{fluid:"","fill-height":""}},[e(Z.Z,[e(l.Z,{staticClass:"text-center",attrs:{"align-center":""}},[e(s.Z,[e(c.EB,[t._v("TO DO List:")]),e(c.ZB,[e(b.Z,{attrs:{outlined:"","append-outer-icon":"mdi-plus",hint:"Add your todo",label:"To do:"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)},"click:append-outer":t.addTodo},model:{value:t.todo,callback:function(e){t.todo=e},expression:"todo"}}),e(h.Z,t._l(t.todoList,(function(o){return e(p.Z,{key:o._id},[e(g.Z,[e(r.Z,{attrs:{icon:"",color:"error"},on:{click:function(e){return t.removeTodo(o._id)}}},[e(f.Z,[t._v("mdi-delete")])],1)],1),e(m.km,[e(m.V9,{class:{"text-decoration-line-through":o.done}},[t._v(" "+t._s(o.title)+" "),e(y.Z,{attrs:{"close-on-content-click":!1,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:n}){return[e(r.Z,t._g(t._b({attrs:{icon:"",color:"blue"}},"v-btn",n,!1),o),[e(f.Z,[t._v("mdi-pencil")])],1)]}}],null,!0)},[e(w.Z,{staticClass:"pa-4"},[e(b.Z,{attrs:{outlined:"",value:o.title,"disable-hints":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editTodo(e,o._id)}}})],1)],1)],1),e(m.oZ,[e(f.Z,{attrs:{"x-small":""}},[t._v("mdi-plus")]),t._v(" "+t._s(t.parseDate(o.createdAt))+" ")],1),e(m.oZ,[e(f.Z,{attrs:{"x-small":""}},[t._v("mdi-pencil")]),t._v(" "+t._s(t.parseDate(o.updatedAt))+" ")],1)],1),e(g.Z,[e(r.Z,{attrs:{icon:"",color:o.done?"success":"error"},on:{click:function(e){return t.toggleDone(o._id)}}},[e(f.Z,[t._v(" "+t._s(o.done?"mdi-check":"mdi-close")+" ")])],1)],1)],1)})),1)],1)],1)],1)],1),e(u.Z,{attrs:{width:"75vw",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s.Z,[e(c.EB,[t._v("Login")]),e(c.ZB,[e(b.Z,{attrs:{outlined:"","append-outer-icon":"mdi-email",hint:"Email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(b.Z,{attrs:{type:"password",outlined:"","append-outer-icon":"mdi-lock",hint:"Pass",label:"Pass"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}})],1),e(c.h7,[e(r.Z,{on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1)},T=[],O={name:"TheApp",data:()=>({todo:"",email:null,pass:null,dialog:!1}),computed:{todoList(){return this.$store.getters.todos},authenticated(){return this.$store.getters.email}},watch:{authenticated:{immediate:!0,handler(t){this.dialog=!t}}},methods:{parseDate(t){return new Date(t).toLocaleString("ro-RO")},addTodo(){this.$store.dispatch("addTodo",this.todo),this.todo=""},removeTodo(t){this.$store.dispatch("removeTodo",t)},toggleDone(t){this.$store.dispatch("toggleDone",t)},editTodo(t,e){this.$store.dispatch("editTodo",{id:e,value:t.target.value})},login(){this.$store.dispatch("login",{email:this.email,pass:this.pass}),this.email=null,this.pass=null,this.dialog=!1},async logOut(){this.$store.dispatch("logout")}},async mounted(){this.$store.dispatch("reAuthenticate")}},x=O,E=o(1001),P=(0,E.Z)(x,_,T,!1,null,null,null),A=P.exports,$=o(5205);(0,$.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var j=o(1705);n.ZP.use(j.Z);var D=new j.Z({theme:{dark:!0,themes:{dark:{primary:"#3f51b5",secondary:"#009688",accent:"#ff5722",error:"#f44336",warning:"#ff9800",info:"#03a9f4",success:"#4caf50"}}}}),S=o(629);const C=o(2854),L=o(735),B=o(3522),F=C(),M=L("http://localhost:3030");F.configure(B({storageKey:"auth"})),F.configure(M.fetch(window.fetch.bind(window)));const N=F.service("todos");n.ZP.use(S.ZP);var q=new S.ZP.Store({state:{authenticated:{email:null},todos:[]},getters:{email:t=>t.authenticated.email,todos:t=>t.todos},mutations:{setEmail(t,e){t.authenticated.email=e},setTodos(t,e){t.todos=e}},actions:{async reAuthenticate({commit:t,dispatch:e}){try{const o=await F.reAuthenticate(),{user:n}=o;t("setEmail",n.email),e("fetchTodos")}catch(o){console.log(o)}},async login({commit:t,dispatch:e},o){try{const n=await F.authenticate({strategy:"local",email:o.email,password:o.pass}),{user:i}=n;t("setEmail",i.email),e("fetchTodos")}catch(n){console.log(n)}},async logout({commit:t}){try{await F.logout(),t("setEmail",null),t("setTodos",[])}catch(e){console.log(e)}},async fetchTodos({commit:t}){try{const e=await N.find({});t("setTodos",e.data)}catch(e){console.log("eroare",e.message)}},async addTodo({dispatch:t},e){try{await N.create({title:e}),t("fetchTodos")}catch(o){console.log(o)}},async removeTodo({dispatch:t},e){try{await N.remove(e),t("fetchTodos")}catch(o){console.log(o)}},async toggleDone({state:t,dispatch:e},o){const n=t.todos.find((t=>t._id===o));try{await N.patch(o,{done:!n.done}),e("fetchTodos")}catch(i){console.log(i)}},async editTodo({dispatch:t},e){try{await N.patch(e.id,{title:e.value}),t("fetchTodos")}catch(o){console.log(o)}}}});n.ZP.config.productionTip=!1,new n.ZP({vuetify:D,store:q,render:t=>t(A)}).$mount("#app")},4654:function(){}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,i,a){if(!n){var r=1/0;for(d=0;d<t.length;d++){n=t[d][0],i=t[d][1],a=t[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(s=!1,a<r&&(r=a));if(s){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[n,i,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,r=n[0],s=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var d=c(o)}for(e&&e(n);l<r.length;l++)a=r[l],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(d)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1672)}));n=o.O(n)})();
//# sourceMappingURL=app.b2a3b558.js.map